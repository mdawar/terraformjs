# TerraformJS

TerraformJS is a wrapper for [Terraform](https://www.terraform.io/) that allows you to write your configuration in JavaScript.

## Overview

You can write your Terraform configuration using JavaScript modules named with a `.tf.js` suffix, TerraformJS imports these modules and generates Terraform [JSON configuration](https://www.terraform.io/docs/configuration/syntax-json.html) files named with a `.tf.json` suffix.

Terraform loads these `.tf.json` files along with your `.tf` files, so you can use TerraformJS in your current Terraform project without changing anything at all, you can just add new `.tf.js` files for your configurations that need some programming features that don't exist in the [native Terraform language syntax](https://www.terraform.io/docs/configuration/syntax.html).

## Starting from scratch

1. Create a new directory

```bash
mkdir terraform-project
cd terraform-project
```

2. Create a new `package.json` file and add a `type` field with the value of `module`

```json
{
  "type": "module"
}
```

Or add the `type` field with the value of `module` to the `package.json` file generated by `npm init`.

This is required because TerraformJS supports **ES modules** only and does not support CommonJS.

3. Create new `.tf.js` files

```javascript
import { terraform, provider, data, resource, variable, output } from 'terraformjs';

export const aws = provider.aws({
  region: 'us-east-1'
});

export const awsWest = provider.aws({
  alias: 'west',
  region: 'us-west-1'
});
```
